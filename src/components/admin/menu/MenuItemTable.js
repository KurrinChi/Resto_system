import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
import { Edit2, Trash2, ChevronLeft, ChevronRight } from 'lucide-react';
import { THEME } from '../../../constants/theme';
const ITEMS_PER_PAGE = 10;
export const MenuItemTable = ({ items, onEdit, onDelete }) => {
    const [currentPage, setCurrentPage] = useState(1);
    const totalPages = Math.ceil(items.length / ITEMS_PER_PAGE);
    const startIdx = (currentPage - 1) * ITEMS_PER_PAGE;
    const paginatedItems = items.slice(startIdx, startIdx + ITEMS_PER_PAGE);
    return (_jsx("div", { className: "rounded-lg overflow-hidden", style: { backgroundColor: THEME.colors.background.secondary }, children: items.length === 0 ? (_jsx("div", { className: "text-center py-12", style: { color: THEME.colors.text.tertiary }, children: _jsx("p", { className: "text-lg", children: "No menu items found" }) })) : (_jsxs(_Fragment, { children: [_jsx("div", { className: "overflow-x-auto", children: _jsxs("table", { className: "w-full", children: [_jsx("thead", { style: { backgroundColor: THEME.colors.background.tertiary, borderBottom: `1px solid ${THEME.colors.border.DEFAULT}` }, children: _jsxs("tr", { children: [_jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Image" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Name" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Category" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Price" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Prep Time" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold", style: { color: THEME.colors.text.primary }, children: "Status" }), _jsx("th", { className: "px-6 py-3 text-left text-sm font-semibold text-gray-700", children: "Actions" })] }) }), _jsx("tbody", { style: { borderColor: THEME.colors.border.DEFAULT }, children: paginatedItems.map((item) => (_jsxs("tr", { style: { borderBottom: `1px solid ${THEME.colors.border.DEFAULT}`, backgroundColor: THEME.colors.background.secondary }, children: [_jsx("td", { className: "px-6 py-4", children: item.image_url ? (_jsx("img", { src: item.image_url, alt: item.name, className: "w-12 h-12 object-cover rounded" })) : (_jsx("div", { className: "w-12 h-12 rounded flex items-center justify-center", style: { backgroundColor: THEME.colors.background.tertiary }, children: _jsx("span", { className: "text-xs", style: { color: THEME.colors.text.tertiary }, children: "No image" }) })) }), _jsx("td", { className: "px-6 py-4", children: _jsxs("div", { children: [_jsx("p", { className: "font-medium", style: { color: THEME.colors.text.primary }, children: item.name }), _jsx("p", { className: "text-sm", style: { color: THEME.colors.text.tertiary }, children: item.description })] }) }), _jsx("td", { className: "px-6 py-4", children: _jsx("span", { className: "inline-block px-2 py-1 text-sm rounded", style: { backgroundColor: THEME.colors.primary.dark, color: THEME.colors.text.primary }, children: item.category }) }), _jsxs("td", { className: "px-6 py-4 font-medium", style: { color: THEME.colors.text.primary }, children: ["\u20B9", item.price.toFixed(2)] }), _jsxs("td", { className: "px-6 py-4 text-sm", style: { color: THEME.colors.text.secondary }, children: [item.preparation_time, " min"] }), _jsx("td", { className: "px-6 py-4", children: item.available ? (_jsx("span", { className: "inline-block px-2 py-1 text-sm rounded", style: { backgroundColor: '#1f4d2f', color: THEME.colors.status.success }, children: "Available" })) : (_jsx("span", { className: "inline-block px-2 py-1 text-sm rounded", style: { backgroundColor: '#4d1f1f', color: THEME.colors.status.error }, children: "Unavailable" })) }), _jsx("td", { className: "px-6 py-4", children: _jsxs("div", { className: "flex gap-2", children: [_jsx("button", { onClick: () => onEdit(item), className: "p-2 rounded-lg transition-colors hover:opacity-80", style: { color: THEME.colors.primary.DEFAULT }, children: _jsx(Edit2, { className: "w-4 h-4" }) }), _jsx("button", { onClick: () => onDelete(item.id), className: "p-2 rounded-lg transition-colors hover:opacity-80", style: { color: THEME.colors.status.error }, children: _jsx(Trash2, { className: "w-4 h-4" }) })] }) })] }, item.id))) })] }) }), totalPages > 1 && (_jsxs("div", { className: "flex items-center justify-between px-6 py-4", style: { backgroundColor: THEME.colors.background.tertiary, borderTop: `1px solid ${THEME.colors.border.DEFAULT}` }, children: [_jsxs("span", { className: "text-sm", style: { color: THEME.colors.text.secondary }, children: ["Page ", currentPage, " of ", totalPages, " (", items.length, " items)"] }), _jsxs("div", { className: "flex gap-2", children: [_jsx("button", { onClick: () => setCurrentPage(prev => Math.max(1, prev - 1)), disabled: currentPage === 1, className: "p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-opacity", style: { color: THEME.colors.text.secondary }, children: _jsx(ChevronLeft, { className: "w-5 h-5" }) }), _jsx("button", { onClick: () => setCurrentPage(prev => Math.min(totalPages, prev + 1)), disabled: currentPage === totalPages, className: "p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-opacity", style: { color: THEME.colors.text.secondary }, children: _jsx(ChevronRight, { className: "w-5 h-5" }) })] })] }))] })) }));
};
